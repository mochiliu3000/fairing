apiVersion: tekton.dev/v1alpha1
kind: PipelineRun
metadata:
  name: fairing-build-deploy-pipeline-0
spec:
  pipelineRef:
    name: fairing-build-deploy-pipeline
  serviceAccountName: 'default'
  params:  
  - name: "context_sub_dir"
    value: "build1"
  - name: "dockerfile_sub_dir"
    value: "build1/Dockerfile"
  resources:
  - name: builtImage  
    resourceRef:
      name: fairing-build-push-kaniko
  - name: remote_kubeconfig
    resourceRef:
      name: fairing-deploy-kube-config
  workspaces:
  - name: fairing-build
    persistentVolumeClaim:
      claimName: fairing-build-pvc
  - name: docker-config
    configMap:
      name: docker-config
      items:
        - key: config.json
          path: config.json